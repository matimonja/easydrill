import"./modulepreload-polyfill-B5Qt9EMX.js";/* empty css             */const y={pases:"tag-blue",posesion:"tag-green",ataque:"tag-orange",defensa:"tag-red",transicion:"tag-violet",salida:"tag-blue",contencion:"tag-green",press:"tag-red"},h=[{id:"1",title:"Ronda de pases en triángulo",description:"Ejercicio de posesión y movimiento para mediocampo. Ideal para calentar o trabajar apoyos.",tags:["pases","posesion","ataque"]},{id:"2",title:"Presión post pérdida",description:"Transición defensiva y recuperación rápida. Trabaja la reacción al perder el balón.",tags:["defensa","transicion"]},{id:"3",title:"Salida desde el arco",description:"Construcción desde atrás con apoyos y desmarques. Salida limpia bajo presión.",tags:["salida","contencion"]},{id:"4",title:"Rondo 4v2 en espacio reducido",description:"Mantener la pelota en superioridad numérica. Pases rápidos y movilidad.",tags:["posesion","press"]},{id:"5",title:"Cambio de juego y amplitud",description:"Pases largos para abrir el campo y aprovechar los espacios por las bandas.",tags:["pases","ataque"]},{id:"6",title:"Bloqueo defensivo en línea",description:"Trabajo de línea de defensores y coberturas. Comunicación y repliegue.",tags:["defensa","contencion"]},{id:"7",title:"Contraataque 3v2",description:"Transición rápida al ataque tras recuperar. Finalización en superioridad.",tags:["transicion","ataque"]},{id:"8",title:"Posesión 6v4 con comodines",description:"Mantener la pelota con comodines en el exterior. Circulación y paciencia.",tags:["posesion","pases"]},{id:"9",title:"Pressing alto en bloque",description:"Presión coordinada tras pérdida en campo rival. Recuperación en zona alta.",tags:["press","defensa"]}],m={pases:"Pases",posesion:"Posesión",ataque:"Ataque",defensa:"Defensa",transicion:"Transición",salida:"Salida",contencion:"Contención",press:"Press"},E=Object.keys(m);function b(){return h}function C(e,t,s){e.innerHTML="",E.forEach(n=>{const a=document.createElement("button");a.type="button",a.className="filter-tag"+(t.has(n)?" active":""),a.textContent=m[n],a.dataset.tag=n,a.addEventListener("click",()=>s(n)),e.appendChild(a)})}function L(e,t){e.querySelectorAll(".filter-tag").forEach(s=>{const n=s.dataset.tag;s.classList.toggle("active",t.has(n))})}function k(e){const t=e.thumbnail?`<img src="${e.thumbnail}" alt="" loading="lazy" />`:'<span class="carousel-thumb-placeholder"><i class="fa-solid fa-play"></i> Vista previa</span>',s=e.tags.map(n=>`<span class="tag ${y[n]}">${m[n]}</span>`).join("");return`
    <article class="marketplace-card" data-id="${e.id}">
      <div class="carousel-thumb" aria-hidden="true">${t}</div>
      <div class="carousel-body">
        <h4>${g(e.title)}</h4>
        <p>${g(e.description)}</p>
        <div class="carousel-tags">${s}</div>
        <div class="marketplace-card-actions">
          <a href="editor.html?drill=${encodeURIComponent(e.id)}" class="card-action-link"><i class="fa-solid fa-pen-ruler"></i> Abrir en pizarrón</a>
          <a href="editor.html?drill=${encodeURIComponent(e.id)}&fork=1" class="card-action-fork" title="Hacer fork: copiar a tu cuaderno"><i class="fa-solid fa-code-branch"></i> Fork</a>
        </div>
      </div>
    </article>
  `}function g(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}function T(e,t,s,n){let a=e.slice();const o=t.trim().toLowerCase();return o&&(a=a.filter(i=>i.title.toLowerCase().includes(o)||i.description.toLowerCase().includes(o)||i.tags.some(r=>m[r].toLowerCase().includes(o)))),s.size>0&&(a=a.filter(i=>i.tags.some(r=>s.has(r)))),n==="name-asc"?a.sort((i,r)=>i.title.localeCompare(r.title)):n==="name-desc"&&a.sort((i,r)=>r.title.localeCompare(i.title)),a}function q(){const e=document.getElementById("marketplace-search"),t=document.getElementById("filter-tags"),s=document.getElementById("filter-reset"),n=document.getElementById("empty-reset"),a=document.getElementById("marketplace-count"),o=document.getElementById("marketplace-sort"),i=document.getElementById("marketplace-grid"),r=document.getElementById("marketplace-empty");if(!t||!i||!a||!r)return;const f=b();let c=new Set,p="",u="relevance";function d(){const l=T(f,p,c,u);a.textContent=l.length===1?"1 ejercicio":`${l.length} ejercicios`,i.innerHTML=l.map(v=>k(v)).join(""),r.hidden=l.length>0,L(t,c)}C(t,c,l=>{c.has(l)?c.delete(l):c.add(l),d()}),e?.addEventListener("input",()=>{p=e.value,d()}),o?.addEventListener("change",()=>{u=o.value,d()}),s?.addEventListener("click",()=>{c.clear(),e&&(e.value=""),p="",o&&(o.value="relevance"),u="relevance",d()}),n?.addEventListener("click",()=>{c.clear(),e&&(e.value=""),p="",o&&(o.value="relevance"),u="relevance",d(),r.hidden=!0}),d()}document.body.classList.contains("marketplace-page")&&q();
